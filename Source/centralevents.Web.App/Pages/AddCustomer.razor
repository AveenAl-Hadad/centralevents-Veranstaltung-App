@page "/customer"
@using CentralEvents.Web.Api.Controllers
@using CentralEvent.Business.Contracts.Models
@using CentralEvents.Web.App.Wrappers
@inject IHttpClient Client

<h3>Registrieren</h3>


<form>
    <table>
        <tr>
            <td>
                <label>* Benutzername:</label>
                <input @bind="@customerModel.Benutzername" required />
            </td>
        </tr>
        <tr>
            <td>
                <label>Vorname:</label>
                <input @bind="@customerModel.Vorname" />
            </td>
        </tr>
        <tr>
            <td>
                <label>Nachname:</label>
                <input @bind="@customerModel.Nachname" />
            </td>
        </tr>
        <tr>
            <td>
                <label>Strasse:</label>
                <input @bind="@customerModel.Strasse" />
            </td>
        </tr>
        <tr>
            <td>
                <label>Hausnummer:</label>
                <input @bind="@customerModel.Hausnummer"/>
            </td>
        </tr>
        <tr>
            <td>
                <label>PLZ:</label>
                <input @bind="@customerModel.Plz" />
            </td>
        </tr>
        <tr>
            <td>
                <label>Ort:</label>
                <input @bind="@customerModel.Ort" />
            </td>
        </tr>
        <tr>
            <td>
                <label>Telefonnummer:</label>
                <input type="tel" @bind="@customerModel.Telefon" />
            </td>
        </tr>
        <tr>
            <td>
                <label>* E-Mail:</label>
                <input type="email" @bind="@customerModel.Email" required/>
            </td>
        </tr>
        <tr>
            <td>
                <label>* Passwort:</label>
                <input type="password" @bind="@customerModel.Passwort" />
            </td>
        </tr>
        <tr>
            <td>
                <label>* Passwort wiederholen:</label>
                <input type="password" />
            </td>
        </tr>
        <tr>
            <td >
                <a id="buttons" href="/">Abbrechen</a>
            </td>
        </tr>
        <tr>
            <td>
                <button @onclick="AddKunde">Registrieren</button>
            </td>
        </tr>
        <tr>
            <td>
                * Pflichtfelder
            </td>
        </tr>
    </table>
</form>



@code {

    [Parameter]
    public string Id { get; set; }

    CustomerModel customerModel = new CustomerModel();

    private async Task AddKunde()
    {
        await Client.PostAsync("api/eventControl/addCustomer", customerModel);
    }

}
