@page "/"
@using CentralEvents.Web.App.Wrappers
@using CentralEvent.Business.Contracts.Models
@inject IHttpClient Client

<link href="site.css" rel="stylesheet" type="text/css" />
<img src="css/Images/ce_logo.png"/>
<h1>Willkommen bei CentralEvents!</h1>
<h2>Veranstaltungen</h2>

@foreach (EventModel eventModel in eventS)
{
    <div >
        @eventModel.Name
    </div>
    <br/>
}

@code
{
    private IEnumerable<EventModel> eventS = new EventModel[0];

    protected override async Task OnInitializedAsync()
    {
        eventS = await Client.GetJsonAsync<IEnumerable<EventModel>>("api/eventControl");
    }
}